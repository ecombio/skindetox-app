<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
{%- liquid 
  assign padding_horizontal = section.settings.padding_horizontal
  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile
  assign padding_top = section.settings.padding_top
  assign padding_bottom = section.settings.padding_bottom
  assign border_color = section.settings.border_color
  assign border_thickness = section.settings.border_thickness
  assign margin_top = section.settings.margin_top
  assign margin_bottom = section.settings.margin_bottom
  assign background_color = section.settings.background_color
  assign background_gradient = section.settings.background_gradient
  assign full_width = section.settings.full_width
  assign content_width = section.settings.content_width

  assign use_controls = section.settings.use_controls
  assign controls = section.settings.controls
  assign autoplay = section.settings.autoplay
  assign autoplay_sec = section.settings.autoplay_sec

  assign image_radius = section.settings.image_radius
  assign image_custom = section.settings.image_custom
  assign image_custom_mobile = section.settings.image_custom_mobile
  assign image_height_mobile = section.settings.image_height_mobile
  assign image_height_desktop = section.settings.image_height_desktop
  assign hide_image = section.settings.hide_image

  assign arrow_color = section.settings.arrow_color
  assign arrow_hover_color = section.settings.arrow_hover_color
  assign border_btn_color = section.settings.border_btn_color
  assign border_btn_hover_color = section.settings.border_btn_hover_color
  assign bg_btn_color = section.settings.bg_btn_color
  assign bg_btn_hover_color = section.settings.bg_btn_hover_color
  assign dots_color = section.settings.dots_color
  assign dots_hover_color = section.settings.dots_hover_color
  assign numbers_color = section.settings.numbers_color
  assign numbers_bg_color = section.settings.numbers_bg_col
  assign numbers_border_color = section.settings.numbers_border_color
  
-%}

{%- style -%}
  
  .section-{{ section.id }} {
    border-top: solid {{ border_color }} {{ border_thickness }}px;
    border-bottom: solid {{ border_color }} {{ border_thickness }}px;
    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;
    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;
  }
  
  .section-{{ section.id }}-settings {
    margin: 0 auto;
    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;
  }

  .custom-slideshow-slider-{{ section.id }} .swiper-wrapper {
    align-items: stretch !important;
  }

  .custom-slideshow-btn-prev-{{ section.id }},
  .custom-slideshow-btn-next-{{ section.id }} {
    position: absolute;
    z-index: 2;
    bottom: 20px !important;
    top: unset !important;
    left: unset !important;
    width: 4.4rem;
    height: 4.4rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid {{ border_btn_color }};
    transition: all 0.3s ease 0s;
    cursor: pointer;
  }

  .custom-slideshow-btn-prev-{{ section.id }}.hide,
  .custom-slideshow-btn-next-{{ section.id }}.hide,
  .custom-slideshow-pagination-{{ section.id }}.hide,
  .custom-slideshow-numbers-pagination-{{ section.id }}.hide {
    display: none;
  }

  .custom-slideshow-btn-prev-{{ section.id }}.swiper-button-disabled,
  .custom-slideshow-btn-next-{{ section.id }}.swiper-button-disabled {
    opacity: 0.3;
  }

   .custom-slideshow-btn-next-{{ section.id }} {
     right: 20px !important;
   }

  .custom-slideshow-btn-prev-{{ section.id }} {
    right: 80px !important;
  }

  .custom-slideshow-btn-prev-{{ section.id }}:hover,
  .custom-slideshow-btn-next-{{ section.id }}:hover {
    transition: all 0.3s ease 0s;
    border: 1px solid {{ border_btn_hover_color }};
  }
  
  .custom-slideshow-btn-prev-{{ section.id }} svg {
    height: 12px;
    width: 10px;
    transform: rotate(90deg);
  }

  .custom-slideshow-btn-next-{{ section.id }} svg {
    height: 12px;
    width: 10px;
    transform: rotate(-90deg);
  }

  .custom-slideshow-btn-prev-{{ section.id }} svg path,
  .custom-slideshow-btn-next-{{ section.id }} svg path {
    fill: {{ arrow_color }};
    transition: all 0.3s ease 0s;
  }

  .custom-slideshow-btn-prev-{{ section.id }}:hover svg path,
  .custom-slideshow-btn-next-{{ section.id }}:hover svg path {
    fill: {{ arrow_hover_color }};
    transition: all 0.3s ease 0s;
  }

  .custom-slideshow-pagination-{{ section.id }} {
    position: absolute;
    bottom: 20px !important;
    top: unset !important;
    left: unset !important;
    right: 20px;
    z-index: 2;
    width: fit-content !important;
  }

  .custom-slideshow-pagination-{{ section.id }} .swiper-pagination-bullet {
    width: 20px;
    height: 20px;
    border: 1px solid {{ dots_color }};
    transition: all 0.3s ease 0s;
    cursor: pointer;
  }

  .custom-slideshow-pagination-{{ section.id }} .swiper-pagination-bullet:hover {
    border: 1px solid {{ dots_hover_color }};
    transition: all 0.3s ease 0s;
  }

  .custom-slideshow-pagination-{{ section.id }} .swiper-pagination-bullet:not(:last-child) {
    margin-right: 20px;
  }
  
  .custom-slideshow-pagination-{{ section.id }} .swiper-pagination-bullet.swiper-pagination-bullet-active {
    background-color: {{ dots_color }};
  }

  .custom-slideshow-pagination-{{ section.id }} .swiper-pagination-bullet.swiper-pagination-bullet-active:hover {
    transition: all 0.3s ease 0s;
    background-color: {{ dots_hover_color }};
  }

  .custom-slideshow-numbers-pagination-{{ section.id }} {
    position: absolute;
    left: unset !important;
    right: 20px !important;
    bottom: 20px !important;
    top: unset !important;
    display: flex;
    align-items: center;
    gap: 20px;
    width: fit-content !important;
  }

  .custom-slideshow-numbers-pagination-{{ section.id }} .swiper-pagination-bullet {
    width: 40px;
    height: 40px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    width: auto;
    height: auto;
    background-color: transparent;
    border-radius: 50%;
    cursor: pointer;
    transition: 0.3s;
  }

  {% unless autoplay %}
    .custom-slideshow-numbers-pagination-{{ section.id }} .swiper-pagination-bullet {
      height: 40px;
      width: 40px;
      margin: 0px;
      background-color: {{ numbers_bg_color }};
      border: 2px solid {{ numbers_border_color }};
    }
  {% endunless %}
  
  .custom-slideshow-numbers-pagination-{{ section.id }} .swiper-pagination-bullet span {
    font-weight: 500;
    color: {{ numbers_color }};
    font-size: 20px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  {% if autoplay %}
  .custom-slideshow-numbers-pagination-{{ section.id }} .progress {
    transform: rotate(-90deg);
  }
   .custom-slideshow-numbers-pagination-{{ section.id }} .circle-origin {
    fill: transparent;
    fill: {{ numbers_bg_color }};
    stroke: {{ numbers_border_color }};
    stroke-width: 3;
    stroke-linecap: round;
    stroke-dasharray: 125.664px;
    stroke-dashoffset: 125.664px;
  }
  
  .custom-slideshow-numbers-pagination-{{ section.id }} .swiper-pagination-bullet-active .circle-origin {
    animation: progress {{ autoplay_sec | plus: 2 }}s;
  }
  
  @keyframes progress {
    0% {
      stroke-dashoffset: 125.664px;
    }
  
    90% {
      stroke-dashoffset: 0;
    }
  
    100% {
      stroke-dashoffset: -125.664px;
    }
  }
  {% endif %}

  .custom-slideshow-desktop-image-{{ section.id }} {
    display: none !important;
  }
  
  @media(min-width: 1024px) {

    .section-{{ section.id }} {
      margin-top: {{ margin_top }}px;
      margin-bottom: {{ margin_bottom }}px;
    }
    
    .section-{{ section.id }}-settings {
      padding-top: {{ padding_top }}px;
      padding-bottom: {{ padding_bottom }}px;
    }

    
    .custom-slideshow-desktop-image-{{ section.id }} {
      display: block !important;
    }

    .custom-slideshow-mobile-image-{{ section.id }} {
      display: none !important;
    }
  }
  
{%- endstyle -%}

{% unless full_width %}

  <style>
    .section-{{ section.id }}-settings {
      max-width: {{ content_width }}rem;
      padding-left: {{ padding_horizontal_mobile }}rem;
      padding-right: {{ padding_horizontal_mobile }}rem;
    }
    @media(min-width: 1024px) {
      padding-left: {{ padding_horizontal }}rem;
      padding-right: {{ padding_horizontal }}rem;
    }
  </style>
  
{% endunless %}

{% if controls == 'fill-btn' %}

  <style>
    .custom-slideshow-btn-prev-{{ section.id }},
    .custom-slideshow-btn-next-{{ section.id }} {
      background-color: {{ bg_btn_color }};
    }

    .custom-slideshow-btn-prev-{{ section.id }}:hover,
    .custom-slideshow-btn-next-{{ section.id }}:hover {
      background-color: {{ bg_btn_hover_color }};
    }
  </style>
  
{% endif %}

{% for block in section.blocks %}

  <style>

    {{ block.settings.heading_font | font_face: font_display: 'swap' }}
    {{ block.settings.text_font | font_face: font_display: 'swap' }}
    {{ block.settings.button_font | font_face: font_display: 'swap' }}
  
    
    .custom-slideshow-slide-{{ block.id }} {
      opacity: 0 !important;
      z-index: -1 !important;
      position: relative;
      height: auto !important;
      min-height: 250px;
      box-sizing: border-box;
      background-color: {{ block.settings.slide_bg_color }};
      border-radius: {{ image_radius }}px;
    }

    .custom-slideshow-slide-{{ block.id }}.swiper-slide-active {
      opacity: 1 !important;
      z-index: 1 !important;
    }
    
    .custom-slideshow-slide-{{ block.id }} h2 {
      transform: translateY(20px);
      transition: all 0.3s ease 0s;
    }

    .custom-slideshow-slide-{{ block.id }}.swiper-slide-active h2 {
      transform: translateY(0);
      transition: all 0.3s ease 0s;
    }

    .custom-slideshow-slide-{{ block.id }} p {
      transform: translateY(20px);
      transition: all 0.4s ease 0s;
    }

    .custom-slideshow-slide-{{ block.id }}.swiper-slide-active p {
      transform: translateY(0);
      transition: all 0.4s ease 0s;
    }

    .custom-slideshow-slide-{{ block.id }} a {
      transform: translateY(20px);
      transition: all 0.5s ease 0s;
    }

    .custom-slideshow-slide-{{ block.id }}.swiper-slide-active a {
      transform: translateY(0);
      transition: all 0.5s ease 0s;
    }
    
    .custom-slideshow-slide-{{ block.id }}::after {
      content: '';
      z-index: -1;
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      background-color: black;
      border-radius: {{ image_radius }}px;
      opacity: {{ block.settings.image_overlay }}%;
    }

    .custom-slideshow-slide-{{ block.id }}.swiper-slide-active::after {
      z-index: 1;
    }

    .custom-slideshow-slide-{{ block.id }} > svg,
    .custom-slideshow-slide-{{ block.id }} > img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: {{ image_radius }}px;
    }
    
    .custom-slideshow-content-{{ block.id }} {
      position: absolute;
      z-index: 2;
      width: 100%;
      height: fit-content;
      max-width: {{ block.settings.container_width_mobile }}%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: {{ block.settings.container_padding_vertical | times: 0.75 | round: 0 }}px {{ block.settings.container_padding_horizontal | times: 0.75 | round: 0 }}px; 
    }

    .custom-slideshow-content-{{ block.id }} h2 {
      margin: 0px;
      width: 100%;
      font-size: {{ block.settings.heading_size_mobile }}px;
      color: {{ block.settings.heading_color }};
      line-height: {{ block.settings.heading_height }}%;
      letter-spacing: {{ block.settings.heading_letter }}px;
      text-transform: unset;
      text-align: {{ block.settings.heading_align }};
    }

    .custom-slideshow-content-{{ block.id }} p {
      margin: 0px;
      margin-top: {{ block.settings.text_mt | times: 0.75 | round: 0  }}px;
      font-size: {{ block.settings.text_size_mobile }}px;
      color: {{ block.settings.text_color }};
      line-height: {{ block.settings.text_height }}%;
      letter-spacing: {{ block.settings.text_letter }}px;
      text-transform: unset;
      text-align: {{ block.settings.text_align }};
    }

    .custom-slideshow-content-{{ block.id }} a {
      display: block;
      width: fit-content;
      margin: 0px;
      margin-top: {{ block.settings.button_mt | times: 0.75 | round: 0 }}px;
      font-size: {{ block.settings.button_size_mobile }}px;
      color: {{ block.settings.button_color }};
      line-height: {{ block.settings.button_height }}%;
      letter-spacing: {{ block.settings.button_letter }}px;
      text-transform: unset;
      text-decoration: none;
      transition: all 0.3s ease 0s;
    }

    .custom-slideshow-content-{{ block.id }} a:hover {
      transition: all 0.3s ease 0s;
      color: {{ block.settings.button_hover_color }}; 
    }

    @media(min-width: 1024px) {

      .custom-slideshow-content-{{ block.id }} {
        max-width: {{ block.settings.container_width }}%;
      }
      
      .custom-slideshow-content-{{ block.id }} h2 {
        font-size: {{ block.settings.heading_size }}px;
      }

      .custom-slideshow-content-{{ block.id }} p {
        margin-top: {{ block.settings.text_mt }}px;
        font-size: {{ block.settings.text_size }}px;
      }

      .custom-slideshow-content-{{ block.id }} a {
        margin-top: {{ block.settings.button_mt }}px;
        font-size: {{ block.settings.button_size }}px;
      }
      
    }
    
  </style>

  {% if block.settings.container_use %}
    {%- capture rgb -%}{{ block.settings.container_bg | color_to_rgb }}{%- endcapture -%}
    {%- assign tail = block.settings.container_alpha | prepend: ', ' | append: ')' -%}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        background-color: {{ rgb | replace: 'rgb', 'rgba' | replace: ')', tail }};
        border-radius: {{ block.settings.container_radius }}px;
      }
    </style>
  {% endif %}

  {% if block.settings.container_align == "top-left" %}
    <style>
      
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }

      @media(min-width: 1024px ) {
        .custom-slideshow-content-{{ block.id }} {
          top: 0;
          left: 0;
          transform: translate(0);
        }
      }
    </style>
  {% elsif block.settings.container_align == "top-center" %}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }
      
      @media(min-width: 1024px ){
        .custom-slideshow-content-{{ block.id }} {
          top: 0;
          left: 50%;
          transform: translate(-50%, 0);
        }
      }
      
    </style>
  {% elsif block.settings.container_align == "top-right"  %}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }

      @media(min-width: 1024px) {
        .custom-slideshow-content-{{ block.id }} {
          left: unset;
          top: 0;
          right: 0;
          transform: translate(0);
        }
      }
    </style>
  {% elsif block.settings.container_align == "middle-left"  %}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }

      @media(min-width: 1024px) {
        .custom-slideshow-content-{{ block.id }} {
          top: 50%;
          left: 0;
          transform: translate(0, -50%);
        }
      }
    </style>
  {% elsif block.settings.container_align == "middle-center"  %}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }
    </style>
  {% elsif block.settings.container_align == "middle-right"  %}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }

      @media(min-width: 1024px) {
        .custom-slideshow-content-{{ block.id }} {
          left: unset;
          top: 50%;
          right: 0;
          transform: translate(0, -50%);
        }
      }
    </style>
  {% elsif block.settings.container_align == "bottom-left"  %}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }

      @media(min-width: 1024px) {
        .custom-slideshow-content-{{ block.id }} {
          top: unset;
          bottom: 0;
          left: 0;
          transform: translate(0);
        }
      }
    </style>
  {% elsif block.settings.container_align == "bottom-center"  %}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }

      @media(min-width: 1024px) {
        .custom-slideshow-content-{{ block.id }} {
          top: unset;
          bottom: 0;
          left: 50%;
          transform: translate(-50%, 0);
        }
      }
    </style>
  {% elsif block.settings.container_align == "bottom-right"  %}
    <style>
      .custom-slideshow-content-{{ block.id }} {
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }

      @media(min-width: 1024px) {
        .custom-slideshow-content-{{ block.id }} {
          top: unset;
          left: unset;
          bottom: 0;
          right: 0;
          transform: translate(0);
        }
      }
    </style>
  {% endif %}

  {% if block.settings.button_style == "button" %}

    <style>
      .custom-slideshow-content-{{ block.id }} a {
        padding: {{ block.settings.button_padding_vertical | times: 0.75 | round: 0 }}px {{ block.settings.button_padding_horizontal | times: 0.75 | round: 0 }}px;
        border-radius: {{ block.settings.button_radius }}px;
        background-color: {{ block.settings.button_bg_color }};
        border: {{ block.settings.button_thickness }}px solid {{ block.settings.button_border_color }};
      }
  
      .custom-slideshow-content-{{ block.id }} a:hover {
        background-color: {{ block.settings.button_bg_hover_color }};
        border: {{ block.settings.button_thickness }}px solid {{ block.settings.button_border_hover_color }};
      }

      @media(min-width: 750px) {
        .custom-slideshow-content-{{ block.id }} a {
          padding: {{ block.settings.button_padding_vertical }}px {{ block.settings.button_padding_horizontal }}px;
        }
      }
    </style>
    
  {% endif %}

  {% if block.settings.button_align == "center" %}
    
    <style>
      .custom-slideshow-content-{{ block.id }} a {
        margin-left: auto;
        margin-right: auto;
      }
    </style>

  {% elsif block.settings.button_align == "right" %}

    <style>
      .custom-slideshow-content-{{ block.id }} a {
        margin-left: auto;
      }
    </style>
    
  {% endif %}

  {% if image_custom_mobile %}
    <style>
      .custom-slideshow-slide-{{ block.id }} {
        height: {{ image_height_mobile }}px !important;
      }
      
      @media(min-width: 1024px) {
        .custom-slideshow-slide-{{ block.id }} {
          height: auto !important;
        }
      }
    </style>
  {% endif  %}

  {% if image_custom  %}
    
    <style> 
      @media(min-width: 1024px) {
        .custom-slideshow-slide-{{ block.id }} {
          height: {{ image_height_desktop }}px !important;
        }
      }
    </style>
    
  {% endif %}

  {% if block.settings.heading_custom %}
    <style>
      .custom-slideshow-content-{{ block.id }} h2 {
        font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
        font-weight: {{ block.settings.heading_font.weight }};
        font-style: {{ block.settings.heading_font.style }};
      }
    </style>
  {% endif %}

  {% if block.settings.text_custom %}
    <style>
      .custom-slideshow-content-{{ block.id }} p {
        font-family: {{ block.settings.text_font.family }}, {{ block.settings.text_font.fallback_families }};
        font-weight: {{ block.settings.text_font.weight }};
        font-style: {{ block.settings.text_font.style }};
      }
    </style>
  {% endif %}

  {% if block.settings.button_custom %}
    <style>
      .custom-slideshow-content-{{ block.id }} a {
        font-family: {{ block.settings.button_font.family }}, {{ block.settings.button_font.fallback_families }};
        font-weight: {{ block.settings.button_font.weight }};
        font-style: {{ block.settings.button_font.style }};
      }
    </style>
  {% endif %}

  {% if block.settings.image == blank %}
    {% if hide_image %}
      <style>
        .custom-slideshow-slide-{{ block.id }} {
          padding: {{ block.settings.slide_padding_vertical }}px {{ block.settings.slide_padding_horizontal }}px;  
        }
        
        .custom-slideshow-slide-{{ block.id }} > svg,
        .custom-slideshow-slide-{{ block.id }}::after {
          display: none;
        }
        
        .custom-slideshow-content-{{ block.id }} {
          position: static;
          margin: 0px auto;
        }
        
        @media(max-width: 1023px) {          
          .custom-slideshow-content-{{ block.id }} {
            transform: translate(0);
          }
        }
        
        @media(min-width: 1024px) {

          .custom-slideshow-slide-{{ block.id }} {
            padding: 0;  
          }
          
          .custom-slideshow-slide-{{ block.id }} > svg,
          .custom-slideshow-slide-{{ block.id }}::after {
            display: block;
          }
          
          .custom-slideshow-content-{{ block.id }} {
            position: absolute;
            margin: 0px;
          }
        }
      </style>
    {% endif %}
  {% else %}
    {% if hide_image %}
      <style>

        .custom-slideshow-slide-{{ block.id }} {
          padding: {{ block.settings.slide_padding_vertical }}px {{ block.settings.slide_padding_horizontal }}px;  
        }
        
        .custom-slideshow-slide-{{ block.id }} > img,
        .custom-slideshow-slide-{{ block.id }}::after {
          display: none;
        }
        
        .custom-slideshow-content-{{ block.id }} {
          position: static;
          margin: 0px auto;
        }

        @media(max-width: 1023px) {          
          .custom-slideshow-content-{{ block.id }} {
            transform: translate(0);
          }
        }
        
        @media(min-width: 1024px) {

          .custom-slideshow-slide-{{ block.id }} {
            padding: 0;  
          }
          
          .custom-slideshow-slide-{{ block.id }} > img,
          .custom-slideshow-slide-{{ block.id }}::after {
            display: block;
          }
          
          .custom-slideshow-content-{{ block.id }} {
            position: absolute;
            margin: 0px;
          }
        }
      </style>
    {% endif %}
  {% endif %}

{% endfor %}


<div class="section-{{ section.id }} custom-slideshow-{{ section.id }}" style="background-color:{{ background_color }}; background-image: {{ background_gradient }};">
    <div class="section-{{ section.id }}-settings ">
        <div class="custom-slideshow-slider-{{ section.id }} swiper">
            <div class="swiper-wrapper">
              {% for block in section.blocks %}
                <{% if block.settings.slide_url != blank %}a href="{{ block.settings.slide_url }}"{% else %}div{% endif %} class="custom-slideshow-slide-{{ block.id }} swiper-slide {% if forloop.first %}swiper-slide-active{% endif %}">

                  {% if block.settings.image != blank or block.settings.image_mobile != blank %}

                    {% if block.settings.image != blank %}
                      <img {% if block.settings.image_mobile != blank %}class="custom-slideshow-desktop-image-{{ section.id }}"{% endif %} src="{{ block.settings.image | image_url }}" alt="custom-slideshow-image-desktop-{{ block.id }}">
                    {% endif %}
                    
                    {% if block.settings.image_mobile != blank %}
                      <img class="custom-slideshow-mobile-image-{{ section.id }}" src="{{ block.settings.image_mobile | image_url }}" alt="custom-slideshow-image-mobile-{{ block.id }}">
                    {% endif %}
                    
                  {% else %}
                    {{ 'lifestyle-1' | placeholder_svg_tag }}
                  {% endif %}
                  
                  <div class="custom-slideshow-content-{{ block.id }}">
                    {% if block.settings.heading != blank %}
                      <h2>{{ block.settings.heading }}</h2>
                    {% endif %}
  
                    {% if block.settings.text != blank %}
                      <p>{{ block.settings.text }}</p>
                    {% endif %}

                    {% unless block.settings.slide_url %}
                      {% if block.settings.button != blank %}
                        <a href="{{ block.settings.button_url }}">{{ block.settings.button }}</a>
                      {% endif %}
                    {% endunless %}
                
                  </div>
                </{% if block.settings.slide_url != blank %}a{% else %}div{% endif %}>
              {% endfor %}
            </div>
            {% if use_controls %}
              <div class="custom-slideshow-btn-prev-{{ section.id }} {% unless controls contains "btn" or controls contains "fill-btn" %} hide {% endunless %}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg>
              </div>
              <div class="custom-slideshow-btn-next-{{ section.id }} {% unless controls contains "btn" or controls contains "fill-btn" %} hide {% endunless %}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg>
              </div>
              <div class="custom-slideshow-pagination-{{ section.id }} {% unless controls contains "dots" %} hide {% endunless %}"></div>
              <div class="custom-slideshow-numbers-pagination-{{ section.id }} swiper-pagination {% unless controls contains "numbers" %} hide {% endunless %}"></div>
              
            {% endif %}
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@8.4/swiper-bundle.min.js"></script>

<script>
  function initCustomSlideshow() {
    if (typeof Swiper === 'undefined') {
      setTimeout(initCustomSlideshow, 100);
      return;
    }
    const slider = new Swiper('.custom-slideshow-slider-{{ section.id }}', {
      slidesPerView: 1,
      speed: 800,
      spaceBetween: 20,
      loop: true,
      centeredSlides: true,
      effect: "fade",
      fadeEffect: { crossFade: true },
      navigation: {
        nextEl: '.custom-slideshow-btn-next-{{ section.id }}',
        prevEl: '.custom-slideshow-btn-prev-{{ section.id }}'
      },
      {% if controls == "dots" %}
      pagination: {
        el: '.custom-slideshow-pagination-{{ section.id }}',
        type: "bullets",
        clickable: true
      },
      {% elsif controls == "numbers" %}
      pagination: {
        el: '.custom-slideshow-numbers-pagination-{{ section.id }}',
        clickable: true,
        renderBullet: function (i, className) {
              {% if autoplay %}
                return `<button class="${className}"><svg class="progress" width="43" height="43"><circle class="circle-origin" r="20" cx="21.5" cy="21.5"></circle></svg><span>${i + 1}</span></button>`;},
              {% else %}
                return `<button class="${className}"><span>${i + 1}</span></button>`;},
              {% endif %}
      },
      {% endif %}
      {% if autoplay %}
      autoplay: {
        delay: {{ autoplay_sec }}000,
        disableOnInteraction: false
      }
      {% endif %}
    })
  }

  document.addEventListener('DOMContentLoaded', initCustomSlideshow);
          
  if (Shopify.designMode) {
     document.addEventListener('shopify:section:unload', initCustomSlideshow);
     document.addEventListener('shopify:section:load', initCustomSlideshow);
  }
  
</script>

{% schema %}
  {
    "name": "SS - Slideshow #4",
    "settings": [
      {
        "type": "header",
        "content": "Slider Settings"
      },
      {
        "type": "checkbox",
        "id": "use_controls",
        "label": "Use Controls",
        "default": true
      },
      {
      "type": "select",
      "id": "controls",
      "options": [
          {
            "value": "dots",
            "label": "Dots"
          },
          {
            "value": "numbers",
            "label": "Numbers"
          },
          {
            "value": "btn",
            "label": "Buttons"
          },
          {
            "value": "fill-btn",
            "label": "Fill Buttons"
          }
        ],
        "default": "numbers",
        "label": "Slider Controls"
      },
      {
        "type": "checkbox",
        "id": "autoplay",
        "label": "Autoplay Slide",
        "default": true
      },
      {
        "type": "range",
        "id": "autoplay_sec",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "s",
        "label": "Autoplay Delay Time",
        "default": 5
      },
      {
        "type": "header",
        "content": "Images"
      },
      {
        "type": "range",
        "id": "image_radius",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Image Border Radius",
        "default": 20
      },
      {
        "type": "checkbox",
        "id": "image_custom",
        "label": "Use Custom Height for Image - Desktop"
      },
      {
        "type": "range",
        "id": "image_height_desktop",
        "min": 250,
        "max": 1000,
        "step": 50,
        "unit": "px",
        "label": "Custom Height Image",
        "default": 600
      },
      {
        "type": "checkbox",
        "id": "image_custom_mobile",
        "label": "Use Custom Height for Image - Mobile"
      },
      {
        "type": "range",
        "id": "image_height_mobile",
        "min": 250,
        "max": 800,
        "step": 50,
        "unit": "px",
        "label": "Custom Height Image - Mobile",
        "default": 250
      },
      {
        "type": "checkbox",
        "id": "hide_image",
        "label": "Hide Image on Mobile"
      },
      {
        "type": "header",
        "content": "Section Colors"
      },
      {
        "type": "color",
        "label": "Section background",
        "id": "background_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color_background",
        "id": "background_gradient",
        "label": "Section background gradient"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "border_color",
        "default": "#000000"
      },
      {
        "type": "header",
        "content": "Navigation Colors"
      },
      {
        "type": "color",
        "label": "Arrow Color",
        "id": "arrow_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Arrow Hover Color",
        "id": "arrow_hover_color",
        "default": "#CFCDCD"
      },
      {
        "type": "header",
        "content": "Button Colors"
      },
      {
        "type": "color",
        "label": "Border Buttons Color",
        "id": "border_btn_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Border Buttons Hover Color",
        "id": "border_btn_hover_color",
        "default": "#CFCDCD"
      },
      {
        "type": "color",
        "label": "Background Buttons Color",
        "id": "bg_btn_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Background Buttons Hover Color",
        "id": "bg_btn_hover_color",
        "default": "#CFCDCD"
      },
      {
        "type": "header",
        "content": "Controls Colors"
      },
      {
        "type": "color",
        "label": "Dots Color",
        "id": "dots_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Dots Hover Color",
        "id": "dots_hover_color",
        "default": "#CFCDCD"
      },
      {
        "type": "color",
        "label": "Number Color",
        "id": "numbers_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Numbers Background Color",
        "id": "numbers_bg_col"
      },
      {
        "type": "color",
        "label": "Numbers Border Color",
        "id": "numbers_border_color",
        "default": "#FFFFFF"
      },
      {
        "type": "header",
        "content": "Section margin (outside)"
      },
      {
        "type": "range",
        "id": "margin_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Margin top",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Margin bottom",
        "default": 0
      },
      {
        "type": "header",
        "content": "Section padding (inside)"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Padding top",
        "default": 36
      },
      {
         "type": "range",
         "id": "padding_bottom",
         "min": 0,
         "max": 100,
         "step": 4,
         "unit": "px",
         "label": "Padding bottom",
         "default": 36
      },
      {
        "type": "range",
        "id": "padding_horizontal",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "rem",
        "label": "Padding sides",
        "default": 5
      },
      {
        "type": "range",
        "id": "padding_horizontal_mobile",
        "min": 0,
        "max": 15,
        "step": 0.5,
        "unit": "rem",
        "label": "Padding sides mobile",
        "default": 1.5
      },
      {
        "type": "header",
        "content": "Section Settings"
      },
      {
        "type": "checkbox",
        "id": "full_width",
        "label": "Full Width"
      },
      {
        "type": "range",
        "id": "content_width",
        "min": 0,
        "max": 400,
        "step": 10,
        "unit": "rem",
        "label": "Section content width",
        "default": 120
      },
      {
        "type": "range",
        "id": "border_thickness",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      }
    ],
    "blocks": [
      {
        "type": "block",
        "name": "Slide",
        "settings": [
          {
            "type": "header",
            "content": "Slide Settings"
          },
          {
            "type": "url",
            "id": "slide_url",
            "label": "Slide URL"
          },
          {
            "type": "header",
            "content": "Image Settings"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image - Desktop"
          },
          {
            "type": "image_picker",
            "id": "image_mobile",
            "label": "Image - Mobile"
          },
          {
            "type": "range",
            "id": "image_overlay",
            "min": 0,
            "max": 100,
            "step": 10,
            "unit": "%",
            "label": "Image Overlay",
            "default": 20
          },
          {
            "type": "header",
            "content": "Container Settings"
          },
          {
            "type": "checkbox",
            "id": "container_use",
            "label": "Use Background Container"
          },
          {
            "type": "range",
            "id": "container_width",
            "min": 0,
            "max": 200,
            "step": 5,
            "unit": "%",
            "label": "Container Max width",
            "default": 70
          },
          {
            "type": "range",
            "id": "container_width_mobile",
            "min": 0,
            "max": 100,
            "step": 5,
            "unit": "%",
            "label": "Container Max width - Mobile",
            "default": 90
          },
          {
            "type": "range",
            "id": "container_alpha",
            "min": 0,
            "max": 1,
            "step": 0.1,
            "label": "Container Opacity",
            "default": 0.2
          },
          {
            "type": "range",
            "id": "container_padding_horizontal",
            "min": 0,
            "max": 80,
            "step": 4,
            "unit": "px",
            "label": "Container Padding Horizontal",
            "default": 16
          },
          {
            "type": "range",
            "id": "container_padding_vertical",
            "min": 0,
            "max": 80,
            "step": 4,
            "unit": "px",
            "label": "Container Padding Vertical",
            "default": 16
          },
          {
            "type": "range",
            "id": "container_radius",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Container Border Radius",
            "default": 0
          },
          {
            "type": "select",
            "id": "container_align",
            "options": [
              {
                "value": "top-left",
                "label": "Top left"
              },
              {
                "value": "top-center",
                "label": "Top center"
              },
              {
                "value": "top-right",
                "label": "Top right"
              },
              {
                "value": "middle-left",
                "label": "Middle Left"
              },
              {
                "value": "middle-center",
                "label": "Middle center"
              },
              {
                "value": "middle-right",
                "label": "Middle right"
              },
              {
                "value": "bottom-left",
                "label": "Bottom left"
              },
              {
                "value": "bottom-center",
                "label": "Bottom center"
              },
              {
                "value": "bottom-right",
                "label": "Bottom right"
              }
            ],
            "default": "middle-center",
            "label": "Desktop content position",
            "info": "Position is automatically optimized for mobile."
          },
          {
            "type": "header",
            "content": "Heading Settings"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Image Slide"
          },
          {
            "type": "checkbox",
            "id": "heading_custom",
            "label": "Use Custom Font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "heading_font",
            "label": "Heading Font Family",
            "default": "assistant_n4"
          },
          {
            "type": "range",
            "id": "heading_size",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Heading Size",
            "default": 50
          },
          {
            "type": "range",
            "id": "heading_size_mobile",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Heading Size - Mobile",
            "default": 50
          },
          {
            "type": "range",
            "id": "heading_letter",
            "min": 0,
            "max": 5,
            "step": 0.1,
            "unit": "px",
            "label": "Heading Letter Spacing",
            "default": 0
          },
          {
            "type": "range",
            "id": "heading_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Heading Line Height",
            "default": 100
          },
          {
            "type": "select",
            "id": "heading_align",
            "label": "Heading Text Align",
            "default": "center",
            "options": [
             {
                "label": "Center",
                "value": "center"
              },
              {
                "label": "Left",
                "value": "left"
              },
              {
                "label": "Right",
                "value": "right"
              }
            ]
          },
          {
            "type": "header",
            "content": "Text Settings"
          },
          {
            "type": "text",
            "id": "text",
            "default": "Tell your brand's story through images",
            "label": "Text"
          },
          {
            "type": "checkbox",
            "id": "text_custom",
            "label": "Use Custom Font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "text_font",
            "label": "Text Font Family",
            "default": "assistant_n4"
          },
          {
            "type": "range",
            "id": "text_size",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Text Size",
            "default": 24
          },
          {
            "type": "range",
            "id": "text_size_mobile",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Text Size - Mobile",
            "default": 24
          },
          {
            "type": "range",
            "id": "text_letter",
            "min": 0,
            "max": 5,
            "step": 0.1,
            "unit": "px",
            "label": "Text Letter Spacing",
            "default": 0
          },
          {
            "type": "range",
            "id": "text_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Text Line Height",
            "default": 130 
          },
          {
            "type": "range",
            "id": "text_mt",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Text Margin Top",
            "default": 16
          },
          {
            "type": "select",
            "id": "text_align",
            "label": "Text Align",
            "default": "center",
            "options": [
             {
                "label": "Center",
                "value": "center"
              },
              {
                "label": "Left",
                "value": "left"
              },
              {
                "label": "Right",
                "value": "right"
              }
            ]
          },
          {
            "type": "header",
            "content": "Button Settings",
            "info": "If 'Slide URL' is empty!"
          },
          {
            "type": "text",
            "id": "button",
            "default": "View",
            "label": "Button"
          },
          {
            "type": "url",
            "id": "button_url",
            "label": "Button URL"
          },
          {
            "type": "checkbox",
            "id": "button_custom",
            "label": "Use Custom Font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "button_font",
            "label": "Button Font Family",
            "default": "assistant_n4"
          },
          {
            "type": "range",
            "id": "button_size",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Button Size",
            "default": 20
          },
          {
            "type": "range",
            "id": "button_size_mobile",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Button Size - Mobile",
            "default": 20
          },
          {
            "type": "range",
            "id": "button_letter",
            "min": 0,
            "max": 5,
            "step": 0.1,
            "unit": "px",
            "label": "Button Letter Spacing",
            "default": 0
          },
          {
            "type": "range",
            "id": "button_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Button Line Height",
            "default": 100
          },
          {
            "type": "select",
            "id": "button_align",
            "label": "Button Align",
            "default": "center",
            "options": [
             {
                "label": "Center",
                "value": "center"
              },
              {
                "label": "Left",
                "value": "left"
              },
              {
                "label": "Right",
                "value": "right"
              }
            ]
          },
          {
            "type": "range",
            "id": "button_mt",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Button Margin Top",
            "default": 16
          },
          {
            "type": "select",
            "id": "button_style",
            "label": "Button Style",
            "default": "button",
            "options": [
             {
                "label": "Button",
                "value": "button"
              },
              {
                "label": "Link",
                "value": "link"
              }
            ]
          },
          {
            "type": "range",
            "id": "button_thickness",
            "min": 0,
            "max": 10,
            "step": 1,
            "unit": "px",
            "label": "Button Border thickness",
            "default": 0
          },
          {
            "type": "range",
            "id": "button_padding_horizontal",
            "min": 0,
            "max": 40,
            "step": 4,
            "unit": "px",
            "label": "Button Padding Horizontal",
            "default": 16
          },
          {
            "type": "range",
            "id": "button_padding_vertical",
            "min": 0,
            "max": 40,
            "step": 4,
            "unit": "px",
            "label": "Button Padding Vertical",
            "default": 12
          },
          {
            "type": "range",
            "id": "button_radius",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Button Border Radius",
            "default": 24
          },
          {
            "type": "header",
            "content": "Slide Colors"
          },
          {
            "type": "color",
            "id": "slide_bg_color",
            "label": "Slide Background Color",
            "default": "#A9A9A9"
          },
          {
            "type": "color",
            "id": "heading_color",
            "label": "Heading Color",
            "default": "#FFFFFF"
          },
          {
            "type": "color",
            "id": "text_color",
            "label": "Text Color",
            "default": "#FFFFFF"
          },
          {
            "type": "color",
            "id": "container_bg",
            "label": "Container Background",
            "default": "#000000"
          },
          {
            "type": "header",
            "content": "Button Colors"
          },
          {
            "type": "color",
            "id": "button_color",
            "label": "Button Color",
            "default": "#FFFFFF"
          },
          {
            "type": "color",
            "id": "button_hover_color",
            "label": "Button Hover Color",
            "default": "#CFCDCD"
          },
          {
            "type": "color",
            "id": "button_bg_color",
            "label": "Button Background Color",
            "default": "#121212"
          },
          {
            "type": "color",
            "id": "button_bg_hover_color",
            "label": "Button Background Hover Color",
            "default": "#121212"
          },
          {
            "type": "color",
            "id": "button_border_color",
            "label": "Button Border Color",
            "default": "#FFFFFF"
          },
          {
            "type": "color",
            "id": "button_border_hover_color",
            "label": "Button Border Hover Color",
            "default": "#CFCDCD"
          },
          {
            "type": "header",
            "content": "Slide Padding Settings"
          },
          {
            "type": "range",
            "id": "slide_padding_horizontal",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Slide Padding Horizontal",
            "info": "When Use 'Hide Image on Mobile'",
            "default": 32
          },
          {
            "type": "range",
            "id": "slide_padding_vertical",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Slide Padding Vertical",
            "info": "When Use 'Hide Image on Mobile'",
            "default": 32
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "SS - Slideshow 4",
        "blocks": [
          {
            "type": "block"
          },
          {
            "type": "block"
          }
        ]
      }
    ]
  }
{% endschema %}