{%- liquid
  assign container = section.settings.container
  assign show_topbar = section.settings.show_topbar
  assign bg_topbar = section.settings.background_color
  assign color_topbar = section.settings.text_color
  assign color_hover_topbar = section.settings.text_hover_color
  assign show_mobile = section.settings.show_mobile
  assign show_phone_number = section.settings.show_phone_number
  assign show_email = section.settings.show_email
  assign show_social = section.settings.show_social
  assign show_store_page = section.settings.show_store_page
  assign show_language = section.settings.show_language
  assign show_country = section.settings.show_country
  assign message = section.settings.message
  assign show_message = section.settings.show_message
  assign box_alignment = 'justify-content-center'
  if show_phone_number == blank and show_email == blank and show_social == blank
    assign box_alignment = 'justify-content-start'
  elsif show_store_page == blank and show_language == blank and show_country == blank
    assign box_alignment = 'justify-content-end'
  endif
-%}
{%- if show_topbar -%}
  <div class="topbar border-bottom color-{{ section.settings.color_scheme }} gradient {% if show_mobile == blank %}d-none-mb{% endif %}">
    <div class="topbar__section">
      <div class="{{ container }} section-full d-flex flex-wrap justify-content-center align-items-center topbar__section-inner">

        {%- if show_message -%}
          <div class="py-5 col-center col-t d-flex align-items-center {{ box_alignment }}">
            <div class="topbar-message px-6 align-items-center">{{ message }}</div>
          </div>
        {%- endif -%}

        <div class="col-t col-right d-flex align-items-center justify-content-end">
          {%- if section.settings.order_status_enabled and section.settings.order_status_url != blank -%}
            <a href="{{ section.settings.order_status_url }}" class="topbar-link">Order Status</a>
          {%- endif -%}
          {%- if section.settings.help_center_enabled and section.settings.help_center_url != blank -%}
            <a href="{{ section.settings.help_center_url }}" class="topbar-link">Help Center</a>
          {%- endif -%}
          {%- if section.settings.newsletter_enabled and section.settings.newsletter_url != blank -%}
            <a href="{{ section.settings.newsletter_url }}" class="topbar-link">Newsletter</a>
          {%- endif -%}
        </div>

      </div>
    </div>
  </div>
  
<style>
@media (min-width: 1640px) and (max-width: 1700px) { .topbar .col-t{padding-left: ; padding-right: ; }}
@media (min-width: 1200px) and (max-width: 1640px) { .topbar .col-t{padding-left: 30px; padding-right: 30px; }}
@media (max-width: 1200px) { .topbar .col-t{padding-left: 15px; padding-right: 15px; }}

/* General styling for the top bar */
  
.topbar {
  background-color: #f8f9fa; /* Light background color */
  border-bottom: 1px solid #e0e0e0; /* Subtle border */
  padding: 10px 15px;
  font-size: 14px;
  color: #333; /* Default text color */
  height: 40px;
  align-content: center;
}

.topbar .topbar__section-inner {
  display: flex;
  flex-wrap: wrap;
  /*justify-content: space-between;*/
  align-items: center;
}

/* Styling for the links in the top bar */
.topbar .topbar-link {
  color: #0078d7; /* Default link color */
  text-decoration: none;
  margin-right: 15px;
  transition: color 0.3s ease;
}

.topbar .topbar-link:hover {
  color: #000; /* Black color on hover */
}

.topbar .topbar-link:last-child {
  margin-right: 0; /* Remove margin after the last link */
}

/* Message section styling */
.topbar .topbar-message {
  font-weight: 500;
  color: #555; /* Message text color */
  padding: 0 10px;
}

/* Divider between links */
.topbar .col-right a:not(:last-child)::after {
  content: "|";
  color: #ccc; /* Divider color */
  margin-left: 10px;
  margin-right: 10px;
}

/* Responsive styling for mobile */
@media (max-width: 768px) {
  .topbar {
    font-size: 12px; /* Smaller text for smaller screens */
    padding: 8px 10px;
  }

  .topbar .topbar__section-inner {
    flex-direction: column; /* Stack elements on mobile */
    align-items: flex-start;
  }

  .topbar .topbar-link {
    margin-right: 0;
    margin-bottom: 8px; /* Space between links on mobile */
  }

  .topbar .topbar-message {
    margin-bottom: 8px;
  }
}

/* Remove unnecessary right margins in col-left and col-right */
.topbar .col-left > *:not(:last-child),
.topbar .col-right > *:not(:last-child) {
  margin-right: 0;
}

  @media only screen and (min-width: 1025px) {
    .topbar .col-t {
      flex: 1;
      max-width: 1640px;
    }
  }
</style>

{%- endif -%}

{% schema %}
{
  "name": "Top Bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_topbar",
      "label": "Enable Top Bar",
      "default": true
    },
    {
      "type": "text",
      "id": "message",
      "label": "Top Bar Message",
      "default": "Welcome to our store!"
    },
    {
      "type": "checkbox",
      "id": "order_status_enabled",
      "label": "Enable Order Status Link",
      "default": true
    },
    {
      "type": "url",
      "id": "order_status_url",
      "label": "Order Status URL"
    },
    {
      "type": "checkbox",
      "id": "help_center_enabled",
      "label": "Enable Help Center Link",
      "default": true
    },
    {
      "type": "url",
      "id": "help_center_url",
      "label": "Help Center URL"
    },
    {
      "type": "checkbox",
      "id": "newsletter_enabled",
      "label": "Enable Newsletter Link",
      "default": true
    },
    {
      "type": "url",
      "id": "newsletter_url",
      "label": "Newsletter URL"
    }
  ]
}
{% endschema %}

